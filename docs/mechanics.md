# Основные механики игры

## Суточный цикл
1. Утро (06:00–10:00) — пробуждение, гигиена, приём гормонов, выбор одежды.
2. День (10:00–18:00) — работа, учёба, встречи с NPC.
3. Вечер (18:00–23:00) — развлечения, тренировки, секс-сцены.
4. Ночь (23:00–06:00) — сон, восстановление `health`, `energy`, `mood`.

В игре время **движется только при выполнении действий или прохождении сцены**. Никакого «живого» таймера нет: игрок свободно читает текст, обдумывает выборы. 

* Внутренний счётчик — "игровые минуты" (типы /ticks/). По умолчанию день содержит 1440 таких минут.
* Каждое действие/выбор указывает, сколько минут оно занимает (например 15 мин; тренировка — 90 мин; сон до утра — авто-расчёт).
* Фазы дня (утро/день/вечер/ночь) вычисляются из текущего времени и влияют на доступность сцен.
* Скорость условная: 1 реальная секунда = 0 игровых минут. То есть время продвигается **только** логикой, а не реальным счётчиком.

**Пример**: Шопинг занимает 60 мин, после чего наступает вечер, если было 17:30.

## Ранги статов
Каждый фетиш-стат (sissification, femininity, submission, bimbofication) делится на 5 уровней. Контент описывается через `minRank`/`maxRank`.

```
if (player.sissificationRank >= 3) {
  showShop("Бельё и чулки");
}
```

## Проверки Willpower
Каждый «опасный» выбор имеет `willCheck`:
```
{
  "willCheck": {
    "difficulty": 60,
    "onFail": { "sissification": +2, "dignity": -5 }
  }
}
```
Алгоритм: `roll = rand(0..99) + willpowerModifier`; fail если `roll < difficulty`.

## Система предметов
- JSON описывает `type`, `slot`, `effects`, `requirements`.
- При экипировке эффекты сразу применяются, при снятии — убираются.
- `duration` (игровые минуты) — для временных предметов (вибратор, зажатый пояс верности для чистки).

## Сцены и ивенты
Каждый JSON-ивент содержит:
- `when`: фильтры локация/время/погода.
- `requirements`: статы, предметы, флаги.
- `weight`: шанс выпадения.
- `steps`: массив текста/выборов.

## Контракты BDSM
Особый JSON-объект с полем `contract`:
```
{
  "id": "contract_kate",
  "conditions": { "submission": { "min": 30 } },
  "clauses": [
    { "type": "rule", "text": "Носить пробку минимум 4ч в день" },
    { "type": "penalty", "text": "Шлепки 10×" }
  ]
}
```

Контракт активирует ежедневные проверки, штрафы/бонусы.

## Экономика
- Валюта `money` (USD). Доход: работа, продажи контента, услуги.
- Расходы: аренда жилья, еда, игрушки, HRT, клиника.

## Прогресс и переигрываемость
- Процедурная генерация NPC: имя, характер, кинк-профиль.
- «Скрытые» сценари на повышенных рангах.
- Система достижений + New Game+ (сохранение части статов). 